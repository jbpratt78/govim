# Test that GOVIMSuggestedFixes feature supports gomod related fixes

[!vim] [!gvim] skip 'Test only known to work in Vim and GVim'


## Tests the removal of superfluous import
vim ex 'e main.go'
# vim ex 'w'
vim ex 'GOVIMSuggestedFixes'

errlogmatch 'sendJSONMsg: .*\"\"example.com\/blah\" imported but not used\".*'

-- main.go --
package main
 
import "example.com/blah"

func main() {
  blah.Something()
}

-- go.local.mod --
module mod.com

go 1.14

-- go.mod --
module mod.com

go 1.14
